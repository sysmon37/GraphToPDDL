{
    "resourceType": "PlanDefinition",
    "id": "dvt",
    "text": {
        "status": "generated",
        "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<h1>Not implemented</h1></div>"
    },
    "url": "http://localhost:9000/fhir/PlanDefinition/chronic-kidney-disease",
    "version": "1.0.0",
    "name": "SCAD",
    "title": "Deep Vein Trombosis",
    "status": "active",
    "experimental": true,
    "date": "2023-12-06",
    "publisher": "Maciej Kleban",
    "description": "Example Computer Interpretable Clinical Practice Guidelines describing treatment of spontaneous coronary artery dissection.",
    "useContext": [
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "age"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "https://meshb.nlm.nih.gov",
                        "code": "D000328",
                        "display": "Adult"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "focus"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "732230001",
                        "display": "Spontaneous coronary artery dissection"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "user"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "93010",
                        "display": "Cardiologist"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "venue"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "440655000",
                        "display": "Outpatient environment"
                    }
                ]
            }
        }
    ],
    "jurisdiction": [
        {
            "coding": [
                {
                    "system": "urn:iso:std:iso:3166",
                    "code": "US"
                }
            ]
        }
    ],
    "purpose": "This plan definition helps ensure that a patient afflicted by spontaneous coronary artery dissection makes a quick recovery.",
    "usage": "This plan should be set in motion ONLY AFTER the patient has been diagnosed with spontaneous coronary artery dissection.",
    "approvalDate": "2023-12-06",
    "lastReviewDate": "2023-12-06",
    "topic": [
        {
            "text": "Spontaneous Coronary Artery Dissection"
        }
    ],
    "author": [
        {
            "name": "Maciej Kleban"
        }
    ],
    "relatedArtifact": [
        {
            "type": "derived-from",
            "display": "MitPlan: A planning approach to mitigating concurrently applied clinical practice guidelines",
            "document": {
                "url": "https://pubmed.ncbi.nlm.nih.gov/33581823/"
            }
        }
    ],
    "action": [
        {
            "id": "DVT",
            "title": "Begin Deep Vein Trombosis tretment",
            "cardinalityBehavior": "single",
            "relatedAction": [{
                "targetId": "EVENTRISK",
                "relationship": "after"
            }]
        },
        {
            "id": "EVENTRISK",
            "title": "Check for rist of DVT",
            "description": "Check if patient is hemostable.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "STENOSIS",
                    "relationship": "after"
                },
                {
                    "targetId": "CORONARYANGIO",
                    "relationship": "after"
                },
                {
                    "targetId": "EVENTPREVENT1",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "STENOSIS",
            "title": "Check for stenosis",
            "description": "Placeholder for UFHALT",
            "textEquivalent": "Placeholder description",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "PHARMAPREF",
                    "relationship": "after"
                },
                {
                    "targetId": "REVASC",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "EVENTRISK 1..1"
                    }
                }
            ]
        },
        {
            "id": "CORONARYANGIO",
            "title": "Perform coronary angiography",
            "description": "Placeholder for DOAC",
            "textEquivalent": "Placeholder description",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "REVASC",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "EVENTRISK 2..2"
                    }
                }
            ]
        },
        {
            "id": "EVENTPREVENT1",
            "title": "EVENTPREVENT1",
            "description": "Placeholder for DOAC",
            "textEquivalent": "Placeholder description",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "NITRATES1",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "EVENTRISK 0..0"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "PHARMAPREF 1..1"
                    }
                }
            ]
        },
        {
            "id": "ACEINHIB",
            "title": "Prescribe ACE inhibitors",
            "description": "Placeholder for DOAC",
            "textEquivalent": "Placeholder description",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "EVENTPREVENT2",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "RENALCOMPLICATION 1..1"
                    }
                }
            ]
        },
        {
            "id": "EVENTPREVENT2",
            "title": "EVENTPREVENT2",
            "description": "Placeholder for DOAC",
            "textEquivalent": "Placeholder description",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "G_DVT",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "RENALCOMPLICATION 0..0"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SYMPTOMSIMPROVE 1..1"
                    }
                }
            ]
        },
        {
            "id": "PHARMAPREF",
            "title": "Is pharmacology preferred?",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "EVENTPREVENT1",
                    "relationship": "after"
                },
                {
                    "targetId": "REVASC",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "STENOSIS 0..0"
                    }
                }
            ]
        },
        {
            "id": "REVASC",
            "title": "Prescribe Revasc",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "NITRATES2",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "STENOSIS 1..1"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "PHARMAPREF 0..0"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SYMPTOMSIMPROVE 0..0"
                    }
                }
            ]
        },
        {
            "id": "NITRATES1",
            "title": "Prescribe nitrates",
            "description": "Check if patient has renal failure.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "ASPIRIN",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "ASPIRIN",
            "title": "Prescribe aspirin",
            "description": "Placeholder for UFHWARF",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "BB",
                    "relationship": "after"
                },
                {
                    "targetId": "CCB",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "BB",
            "title": "Prescribe beta blockers",
            "description": "Prescribe warfarin to the patient",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [{
                "targetId": "SYMPTOMSIMPROVE",
                "relationship": "after"
            }],
            "dynamicValue": [{
                "expression": {
                    "language": "text/mitplan",
                    "expression": "execCost=50"
                }
            }]
        },
        {
            "id": "G_DVT",
            "title": "End DVT treatment",
            "description": "End treatment",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ]
        },
        {
            "id": "CCB",
            "title": "Prescribe calcium channel blockers",
            "description": "Prescribe warfarin to the patient",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [{
                "targetId": "SYMPTOMSIMPROVE",
                "relationship": "after"
            }],
            "dynamicValue": [{
                "expression": {
                    "language": "text/mitplan",
                    "expression": "execCost=10"
                }
            }]
        },
        {
            "id": "NITRATES2",
            "title": "Prescribe nitrates again",
            "description": "Prescribe warfarin to the patient",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [{
                "targetId": "RENALCOMPLICATION",
                "relationship": "after"
            }]
        },
        {
            "id": "RENALCOMPLICATION",
            "title": "Check for renal complication",
            "description": "Prescribe warfarin to the patient",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "ACEINHIB",
                    "relationship": "after"
                },
                {
                    "targetId": "EVENTPREVENT2",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "SYMPTOMSIMPROVE",
            "title": "Do symptoms improve?",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "REVASC",
                    "relationship": "after"
                },
                {
                    "targetId": "EVENTPREVENT2",
                    "relationship": "after"
                }
            ]
        }
    ] 
}