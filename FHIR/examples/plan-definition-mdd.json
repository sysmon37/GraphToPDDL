{
    "resourceType": "PlanDefinition",
    "id": "dvt",
    "text": {
        "status": "generated",
        "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<h1>Not implemented</h1></div>"
    },
    "url": "http://localhost:9000/fhir/PlanDefinition/major-depressive-disorder",
    "version": "1.0.0",
    "name": "MDD",
    "title": "Major Depressive Disorder",
    "status": "active",
    "experimental": true,
    "date": "2023-12-06",
    "publisher": "Maciej Kleban",
    "description": "Example treatment plan for Major Depressive Disorder.",
    "useContext": [
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "age"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "https://meshb.nlm.nih.gov",
                        "code": "D000328",
                        "display": "Adult"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "focus"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "370143000",
                        "display": "Major Depressive Disorder"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "user"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "80584001",
                        "display": "Psychiatry"
                    }
                ]
            }
        },
        {
            "code": {
                "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
                "code": "venue"
            },
            "valueCodeableConcept": {
                "coding": [
                    {
                        "system": "http://snomed.info/sct",
                        "code": "440655000",
                        "display": "Outpatient environment"
                    }
                ]
            }
        }
    ],
    "jurisdiction": [
        {
            "coding": [
                {
                    "system": "urn:iso:std:iso:3166",
                    "code": "US"
                }
            ]
        }
    ],
    "purpose": "This plan definition aims to help the doctors treat patients with MDD.",
    "usage": "This plan should be set in motion ONLY AFTER the patient has been diagnosed with Major Depressive Disorder.",
    "approvalDate": "2023-12-06",
    "lastReviewDate": "2023-12-06",
    "topic": [
        {
            "text": "Major Depressive Disorder"
        }
    ],
    "author": [
        {
            "name": "Maciej Kleban"
        }
    ],
    "relatedArtifact": [
        {
            "type": "derived-from",
            "display": "MitPlan: A planning approach to mitigating concurrently applied clinical practice guidelines",
            "document": {
                "url": "https://pubmed.ncbi.nlm.nih.gov/33581823/"
            }
        }
    ],
    "action": [
        {
            "id": "MDD",
            "title": "Major Depressive Disorder",
            "cardinalityBehavior": "single",
            "relatedAction": [{
                "targetId": "LOWMOOD",
                "relationship": "after"
            }]
        },
        {
            "id": "LOWMOOD",
            "title": "Has patient experienced low mood longer than 2 weeks?",
            "description": "Check if patient has experienced low mood for more than 2 weeks.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "LOWENERGY",
                    "relationship": "after"
                },
                {
                    "targetId": "THERAPY",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "LOWENERGY",
            "title": "Does patient have chronic low energy?",
            "description": "Check if patient has chronic low energy.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "THERAPY",
                    "relationship": "after"
                },
                {
                    "targetId": "SUICIDE",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "LOWMOOD 1..1"
                    }
                }
            ]
        },
        {
            "id": "THERAPY",
            "title": "Schedule patient for therapy",
            "description": "Schedule patient for therapy in order to manage the MDD symptoms long-term.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "CHECKUP",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "LOWMOOD 0..0"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "LOWENERGY 0..0"
                    }
                },
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SUICIDE 0..0"
                    }
                }
            ]
        },
        {
            "id": "SUICIDE",
            "title": "Are suicidal ideations present?",
            "description": "Check if patient has suicidal ideation.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "THERAPY",
                    "relationship": "after"
                },
                {
                    "targetId": "SSRI",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "LOWENERGY 1..1"
                    }
                }
            ]
        },
        {
            "id": "SSRI",
            "title": "Prescribe SSRI to the patient.",
            "description": "Prescribe SSRIs to the patient in order to stabilize their mood.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "THERAPY",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SUICIDE 1..1"
                    }
                }
            ]
        },
        {
            "id": "CHECKUP",
            "title": "Schedule patient for checkup visit.",
            "description": "After some time in therapy, schedule patient for checkup visit.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must-unless-documented",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "SYMPTOMSIMPROVE",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "SYMPTOMSIMPROVE",
            "title": "Did symptoms improve?",
            "description": "Check if patient's MDD symptoms have improved.",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "G_MDD",
                    "relationship": "after"
                },
                {
                    "targetId": "ECT",
                    "relationship": "after"
                }
            ]
        },
        {
            "id": "ECT",
            "title": "Is patient willing to undergo ECT?",
            "description": "Check if patient is willing to undergo Electroconvulsive Therapy.",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "DOECT",
                    "relationship": "after"
                },
                {
                    "targetId": "STABILIZERS",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SYMPTOMSIMPROVE 0..0"
                    }
                }
            ]
        },
        {
            "id": "DOECT",
            "title": "Perform Electroconvulsive Therapy",
            "description": "Perform Electroconvulsive Therapy on the patient.",
            "cardinalityBehavior": "single",
            "requiredBehavior": "must",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "STABILIZERS",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "ECT 1..1"
                    }
                }
            ]
        },
        {
            "id": "STABILIZERS",
            "title": "Prescribe mood stabilizers",
            "description": "Prescribe mood stabilizers to the patient.",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "relatedAction": [
                {
                    "targetId": "G_MDD",
                    "relationship": "after"
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "ECT 0..0"
                    }
                }
            ]
        },
        {
            "id": "G_MDD",
            "title": "End MDD treatment",
            "description": "End treatment for Major Depressive Disorder.",
            "participant" : [
                {
                    "type" : "practitioner",
                    "role" : {
                        "coding" : [{
                            "system" : "http://terminology.hl7.org/CodeSystem/practitioner-role",
                            "code" : "doctor",
                            "display" : "Doctor"
                        }]
                    }
                }
            ],
            "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/mitplan",
                        "expression": "SYMPTOMSIMPROVE 1..1"
                    }
                }
            ]
        }
    ] 
}